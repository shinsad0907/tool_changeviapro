<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Change Via Pro - MMO Tool</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" type="image/png" href="logo/facebook.ico">
</head>
<body>
    <div class="container">
        <div class="header">
            <div>
                <h1 style="font-size: 2.1rem; margin: 0 0 4px 0;">‚ö° CHANGE VIA PRO ‚ö°</h1>
                <p style="margin: 0; font-size: 1.05rem; color: #bdbdbd;">Professional MMO Tool - Change Password & Recovery System</p>
            </div>
        </div>
        

        <div class="tab-container">
            <div class="tab-nav">
                <button class="tab-button active" onclick="switchTab('change-pass')">
                    üîÑ CHANGE PASSWORD
                </button>
                <button class="tab-button" onclick="switchTab('forgot-pass')">
                    üîì FORGOT PASSWORD
                </button>
                <button class="tab-button" onclick="switchTab('scan-friend')">
                    üë• QU√âT FRIEND UID
                </button>
            </div>
            
        <!-- Thay th·∫ø ph·∫ßn scan-friend tab trong code g·ªëc -->
                        <!-- Scan Friend Tab -->
            <div id="scan-friend" class="tab-pane">
                <div class="tab-content" style="display: flex; gap: 16px;">
                    <!-- B·∫¢NG TR√ÅI: DANH S√ÅCH UID -->
                    <div class="data-table-container" style="flex: 0 0 500px; min-width: 300px;">
                        <div class="table-header">
                            <div class="table-title">üå≥ DANH S√ÅCH UID</div>
                            <div class="selected-count" id="tree-selected-count">ƒê√£ ch·ªçn: 0</div>
                        </div>
                        <div class="table-wrapper" style="max-height: 600px; overflow: auto;">
                            <table class="data-table" id="treeview-table">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="tree-select-all" onchange="toggleTreeSelectAll()"></th>
                                        <th>STT</th>
                                        <th>UID</th>
                                        <th>PASS</th>
                                        <th>COOKIE</th>
                                        <th>CHROME</th>
                                    </tr>
                                </thead>
                                <tbody id="treeview-tbody-scan-friend">
                                    <!-- Sample rows -->
                                    <tr>
                                        <td><input type="checkbox" class="tree-row-checkbox" onchange="updateTreeSelectedCount()"></td>
                                        <td>1</td>
                                        <td>100001234567890</td>
                                        <td>pass123</td>
                                        <td>cookie_data</td>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td><input type="checkbox" class="tree-row-checkbox" onchange="updateTreeSelectedCount()"></td>
                                        <td>2</td>
                                        <td>100001234567891</td>
                                        <td>pass456</td>
                                        <td>cookie_data</td>
                                        <td></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                    <!-- B·∫¢NG PH·∫¢I: 2 KHUNG NH·ªé X·∫æP D·ªåC -->
                    <div style="flex: 1; display: flex; flex-direction: column; gap: 12px;">
                        <!-- NH·∫¨P D·ªÆ LI·ªÜU -->
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">üì• NH·∫¨P D·ªÆ LI·ªÜU SCAN</div>
                                <div class="table-actions">
                                    <button class="copy-btn" onclick="clearScanInput()">üóëÔ∏è Clear</button>
                                    <button class="copy-btn" onclick="pasteFromClipboard()">üìã Paste</button>
                                </div>
                            </div>
                            <textarea id="scan-input-text" class="form-control" 
                                    style="height: 150px; resize: vertical; font-family: monospace; font-size: 0.8rem;" 
                                    placeholder="Nh·∫≠p d·ªØ li·ªáu theo format:
                UID|T√äN|PASS|COOKIE|PROXY
                100001234567890|User1|pass123|cookie_data|192.168.1.1:8080

                Ho·∫∑c ch·ªâ UID:
                100001234567890
                100001234567891"></textarea>
                        </div>

                        <!-- K·∫æT QU·∫¢ SCAN -->
                        <div class="data-table-container">
                            <div class="table-header">
                                <div class="table-title">üìã K·∫æT QU·∫¢ SCAN</div>
                                <div class="table-actions">
                                    <button class="copy-btn" onclick="clearScanResult()">üóëÔ∏è Clear</button>
                                    <button class="copy-btn" onclick="exportScanResult()">üì§ Export</button>
                                    <button class="copy-btn" onclick="copyAllResults()">üìã Copy</button>
                                </div>
                            </div>
                            <div id="scan-result-text" class="form-control" 
                                style="height: 150px; resize: vertical; font-family: monospace; font-size: 0.8rem; overflow-y: auto; white-space: pre-line; padding: 8px; border: 1px solid #ccc; background-color: #fff;">
                                <!-- K·∫øt qu·∫£ scan s·∫Ω hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                            </div>
                        </div>
                    </div>
                </div>

                <!-- CONTROLS SECTION -->
                <div class="controls-section" style="margin-top: 16px;">
                    <div class="info-panel">
                        <div class="panel-title">üìä TH·ªêNG K√ä</div>
                        <div class="info-item">
                            <span class="info-label">T·ªïng UID scan:</span>
                            <span class="info-value" id="scan-total-uid">0</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">ƒê√£ scan:</span>
                            <span class="info-value" id="scan-completed">0</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Th√†nh c√¥ng:</span>
                            <span class="info-value" id="scan-success">0</span>
                        </div>
                        <div class="info-item">
                            <span class="info-label">Th·∫•t b·∫°i:</span>
                            <span class="info-value" id="scan-failed">0</span>
                        </div>
                    </div>

                    <div class="config-panel">
                        <div class="panel-title">‚öôÔ∏è C·∫§U H√åNH SCAN</div>
                        
                        <div class="form-group">
                            <div class="form-row">
                                <div class="checkbox-container">
                                    <input type="checkbox" id="scan-use-proxy" checked>
                                    <label for="scan-use-proxy" class="form-label">D√πng Proxy:</label>
                                </div>
                                <select id="scan-proxy-type" class="form-control" style="flex: 1;">
                                    <option>Tmproxy.com</option>
                                    <option>ProxyV6</option>
                                    <option>911S5</option>
                                    <option>ShopLike</option>
                                </select>
                            </div>
                        </div>

                        <!-- <div class="form-group">
                            <div class="checkbox-container">
                                <input type="checkbox" id="scan-get-follow" checked>
                                <label for="scan-get-follow" class="form-label">L·∫•y th√¥ng tin Follow</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="checkbox-container">
                                <input type="checkbox" id="scan-get-mutual" checked>
                                <label for="scan-get-mutual" class="form-label">L·∫•y b·∫°n chung</label>
                            </div>
                        </div> -->

                        <div class="form-group">
                            <label class="form-label">S·ªë lu·ªìng:</label>
                            <input type="number" id="scan-thread-count" class="form-control" 
                                value="3" min="1" max="10">
                        </div>

                        <div class="form-group">
                            <label class="form-label">Delay gi·ªØa c√°c request (ms):</label>
                            <input type="number" id="scan-delay" class="form-control" 
                                value="1000" min="500" max="5000">
                        </div>
                    </div>

                    <div class="actions-panel">
                        <div class="file-output-label">üìÅ SCAN OUTPUT</div>
                        <button class="action-button btn-start" id="scan-start-btn" onclick="startScanFriend()">
                            ‚ñ∂Ô∏è START SCAN
                        </button>
                        <button class="action-button btn-stop" id="scan-stop-btn" onclick="stopScanFriend()" disabled>
                            ‚èπÔ∏è STOP SCAN
                        </button>
                        <button class="action-button btn-export" onclick="exportScanData()">
                            üì§ EXPORT DATA
                        </button>
                    </div>
                </div>
            </div>
            <!-- Change Password Tab -->
            <div id="change-pass" class="tab-pane active">
                <div class="tab-content">
                    <div class="data-table-container">
                        <div class="table-header">
                            <div class="table-title">üìã DANH S√ÅCH T√ÄI KHO·∫¢N</div>
                            <div class="selected-count" id="selected-count">ƒê√£ ch·ªçn: 0</div>
                        </div>
                        
                        <div class="table-wrapper">
                            <table class="data-table" id="account-table">
                                <thead>
                                    <tr>
                                        <th><input type="checkbox" id="select-all" onchange="toggleSelectAll()"></th>
                                        <th>STT</th>
                                        <th>UID</th>
                                        <th>COOKIE</th>
                                        <th>MAIL</th>
                                        <th>PASS NEW</th>
                                        <th>PROXY</th>
                                        <th>CODE</th>
                                        <th>STATUS</th>
                                        <th>CHROME</th> <!-- Th√™m d√≤ng n√†y -->
                                    </tr>
                                </thead>
                                <tbody id="account-tbody">
                                    <!-- Sample data -->
                                    <tr data-index="0">
                                        <td><input type="checkbox" class="row-checkbox" onchange="updateSelectedCount()"></td>
                                        <td>1</td>
                                        <td>100001234567890</td>
                                        <td></td>
                                        <td>user1@gmail.com</td>
                                        <td>password123</td>
                                        <td>192.168.1.1:8080</td>
                                        <td>123456</td>
                                        <td><span style="color: #4ec9b0;">‚úì Ready</span></td>
                                        <td></td> <!-- c·ªôt CHROME -->
                                    </tr>
                                    <tr data-index="1">
                                        <td><input type="checkbox" class="row-checkbox" onchange="updateSelectedCount()"></td>
                                        <td>2</td>
                                        <td>100001234567891</td>
                                        <td>c_user=100001234567891...</td>
                                        <td>user2@gmail.com</td>
                                        <td>password456</td>
                                        <td>192.168.1.2:8080</td>
                                        <td>654321</td>
                                        <td><span style="color: #dcdcaa;">‚è≥ Pending</span></td>
                                        <td></td> <!-- TH√äM D√íNG N√ÄY -->
                                    </tr>
                                    <tr onclick="selectRow(this, event)" data-index="2">
                                        <td><input type="checkbox" class="row-checkbox" onchange="updateSelectedCount()"></td>
                                        <td>3</td>
                                        <td>100001234567892</td>
                                        <td>c_user=100001234567892...</td>
                                        <td>user3@hotmail.com</td>
                                        <td>password789</td>
                                        <td>192.168.1.3:8080</td>
                                        <td>789123</td>
                                        <td><span style="color: #f44747;">‚ùå Error</span></td>
                                    </tr>
                               

                                </tbody>
                            </table>
                        </div>
                    </div>

                    <div class="controls-section">
                        <div class="info-panel">
                            <div class="panel-title">üìä TH√îNG TIN</div>
                            <div class="info-item">
                                <span class="info-label">T·ªïng Mail:</span>
                                <span class="info-value" id="total-mail">3</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">T·ªïng Proxy:</span>
                                <span class="info-value" id="total-proxy">1</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Login Success:</span>
                                <span class="info-value" id="login-success">0</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Login Fail:</span>
                                <span class="info-value" id="login-fail">0</span>
                            </div>
                        </div>

                        <div class="config-panel">
                            <div class="panel-title">‚öôÔ∏è C·∫§U H√åNH</div>
                            
                            <div class="form-group">
                                <div class="form-row">
                                    <div class="checkbox-container">
                                        <input type="checkbox" id="use-proxy" checked>
                                        <label for="use-proxy" class="form-label">D√πng Proxy:</label>
                                    </div>
                                    <select id="proxy-type" class="form-control" style="flex: 1;">
                                        <option>Tmproxy.com</option>
                                        <option>ProxyV6</option>
                                        <option>911S5</option>
                                        <option>ShopLike</option>
                                    </select>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="checkbox-container">
                                    <input type="checkbox" id="auto-get-cookie" checked>
                                    <label for="auto-get-cookie" class="form-label">T·ª± ƒë·ªông l·∫•y cookie sau khi ƒë·ªïi pass</label>
                                </div>
                            </div>

                            <div class="form-group">
                                <label class="form-label">M·∫≠t kh·∫©u:</label>
                                <select id="password-type" class="form-control" onchange="togglePasswordInput()">
                                    <option>T·ª± nh·∫≠p</option>
                                    <option>Ng·∫´u nhi√™n</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <input type="text" id="password-input" class="form-control" 
                                       placeholder="Nh·∫≠p m·∫≠t kh·∫©u ho·∫∑c m·∫´u">
                            </div>

                            <div class="form-group">
                                <label class="form-label">S·ªë lu·ªìng:</label>
                                <input type="number" id="thread-count" class="form-control" 
                                       value="5" min="1" max="20">
                            </div>
                        </div>

                        <div class="actions-panel">
                            <div class="file-output-label">üìÅ FILE OUTPUT</div>
                            <button class="action-button btn-start" id="start-btn">
                                ‚ñ∂Ô∏è START
                            </button>
                            <button class="action-button btn-stop" onclick="stopProcess()" disabled>
                                ‚èπÔ∏è STOP
                            </button>
                            <button class="action-button btn-export" onclick="exportData()">
                                üì§ EXPORT FILE
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Forgot Password Tab -->
            <div id="forgot-pass" class="tab-pane">
                <div class="tab-content">
                    <div class="forgot-pass-form">
                        <div class="panel-title">üîì KH√îI PH·ª§C M·∫¨T KH·∫®U</div>
                        
                        <div class="form-group">
                            <label class="form-label">üìß Danh s√°ch Email (m·ªói email m·ªôt d√≤ng):</label>
                            <textarea id="email-list" class="form-control" rows="6" 
                                      placeholder="user1@gmail.com&#10;user2@yahoo.com&#10;user3@hotmail.com"></textarea>
                        </div>

                        <div class="form-group">
                            <div class="form-row">
                                <div style="flex: 1;">
                                    <label class="form-label">üîê M·∫≠t kh·∫©u m·ªõi:</label>
                                    <input type="text" id="new-password" class="form-control" 
                                           placeholder="Nh·∫≠p m·∫≠t kh·∫©u m·ªõi">
                                </div>
                                <div style="flex: 1;">
                                    <label class="form-label">üßµ S·ªë lu·ªìng:</label>
                                    <input type="number" id="forgot-thread-count" class="form-control" 
                                           value="3" min="1" max="10">
                                </div>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="checkbox-container">
                                <input type="checkbox" id="forgot-use-proxy" checked>
                                <label for="forgot-use-proxy" class="form-label">S·ª≠ d·ª•ng Proxy</label>
                            </div>
                        </div>

                        <div class="form-group">
                            <div class="form-row">
                                <button class="action-button btn-start" onclick="startForgotPassword()" style="flex: 1;">
                                    üöÄ B·∫ÆT ƒê·∫¶U KH√îI PH·ª§C
                                </button>
                                <button class="action-button btn-stop" onclick="stopForgotPassword()" style="flex: 1;" disabled>
                                    ‚èπÔ∏è D·ª™NG L·∫†I
                                </button>
                            </div>
                        </div>

                        <div class="progress-container">
                            <div class="panel-title">üìà TI·∫æN ƒê·ªò</div>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill"></div>
                            </div>
                            <div style="text-align: center; margin-top: 10px; color: #ffffff;">
                                <span id="progress-text">0/0 - 0%</span>
                            </div>
                        </div>

                        <div class="status-log" id="status-log">
                            <div>üî• System initialized...</div>
                            <div>‚ö° Ready for operations...</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <div class="footer">
                <div class="footer-content">
                    <div class="key-info">
                        <div class="key-section">
                            <span class="key-label">Key:</span>
                            <span class="key-value" id="key-value">CVPRO-****-****-****-XXXX</span>
                            <button class="copy-btn" onclick="copyKey()">Copy</button>
                        </div>
                        <div class="expiry-section">
                            <span class="expiry-label">HSD:</span>
                            <span class="expiry-value" id="expiry-value">30/12/2024</span>
                        </div> 
                    </div>
                    
                    <div class="footer-buttons">
                        <span class="footer-auth">FB: shinsad.copyright</span>
                        <button class="footer-btn update" onclick="window.open('https://shinsad.vn/update', '_blank')">C·∫≠p nh·∫≠t</button>
                        <button class="footer-btn support" onclick="window.open('https://facebook.com/shinsad.copyright', '_blank')">H·ªó tr·ª£</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="/eel.js"></script>
    <script src="src_script/change_pass.js"></script>
    <script src="src_script/main.js"></script>
    <script src="src_script/scan_friend.js"></script>
</body>
</html>